<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì½”ëƒ ê²Œì„ì¦ˆ ê´€ë¦¬ - ì „ì²´í™”ë©´</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #4dabf7; --bg: #f8f9fa; }
        body { margin: 0; font-family: 'Pretendard', sans-serif; background: var(--bg); color: #333; }
        
        /* ìƒë‹¨ ë°” - ëŒ€ì‹œë³´ë“œ ëŠë‚Œ ìœ ì§€ */
        .top-bar { 
            background: #1a1d21; 
            color: white; 
            padding: 15px 25px; 
            display: flex; 
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        /* ì™¼ìª½ ìœ„ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ */
        .back-btn { 
            background: var(--primary); 
            border: none; 
            color: white; 
            padding: 10px 18px; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 14px; 
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            transition: 0.3s;
        }
        .back-btn:hover { background: #339af0; }

        /* ë©”ì¸ ì»¨í…ì¸  - ì™¼ìª½ ì—¬ë°± ì—†ì´ ì „ì²´ í™”ë©´ ì‚¬ìš© */
        main { padding: 30px; max-width: 1400px; margin: 0 auto; }
        
        .section-card { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-bottom: 30px; }
        .header-flex { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        
        table { width: 100%; border-collapse: collapse; }
        th { background: #f1f3f5; padding: 12px; text-align: left; font-size: 13px; }
        td { padding: 10px; border-bottom: 1px solid #eee; font-size: 14px; }
        
        input { padding: 8px; border: 1px solid #ddd; border-radius: 5px; width: 100%; }
        .btn-save { background: #27ae60; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        
        .tab-menu { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-btn { padding: 10px 20px; background: #e9ecef; border-radius: 8px; cursor: pointer; border: none; font-weight: bold; }
        .tab-btn.active { background: var(--primary); color: white; }
    </style>
</head>
<body>

    <div class="top-bar">
        <button class="back-btn" onclick="location.href='index.html'">
            <i class="fas fa-arrow-left"></i> ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°
        </button>
        <span style="margin-left: 20px; font-weight: bold; color: var(--primary);">codetbase ê²Œì„ ê´€ë¦¬ ì‹œìŠ¤í…œ</span>
    </div>

    <main>
        <div class="header-flex">
            <h1>ğŸ® ê²Œì„ í†µí•© ê´€ë¦¬</h1>
            <button class="btn-save" onclick="saveAll()">ëª¨ë“  ë°ì´í„° ì €ì¥</button>
        </div>

        <div class="tab-menu">
            <button class="tab-btn active" onclick="switchTab('sword')">âš”ï¸ ê²€ ë°ì´í„°</button>
            <button class="tab-btn" onclick="switchTab('code')">ğŸ ë³´ìƒ ì½”ë“œ</button>
            <button class="tab-btn" onclick="switchTab('user')">ğŸ‘¥ ìœ ì € ê´€ë¦¬</button>
        </div>

        <div id="tab-sword" class="section-card">
            <h3>ê°•í™” ì•„ì´í…œ ì„¤ì •</h3>
            <table id="sword-table">
                <thead><tr><th width="50">Lv</th><th>ì´ë¦„</th><th>ê°•í™”ë¹„ìš©</th><th>ì„±ê³µí™•ë¥ </th></tr></thead>
                <tbody id="sword-body"></tbody>
            </table>
        </div>

        <div id="tab-code" class="section-card" style="display:none;">
            <h3>ë³´ìƒ ì½”ë“œ ê´€ë¦¬</h3>
            <table id="code-table">
                <thead><tr><th>ì½”ë“œ</th><th>ì§€ê¸‰ ê³¨ë“œ</th><th>ì‚¬ìš© ê°€ëŠ¥ íšŸìˆ˜</th></tr></thead>
                <tbody id="code-body"></tbody>
            </table>
        </div>

        <div id="tab-user" class="section-card" style="display:none;">
            <h3>ì‹¤ì‹œê°„ ìœ ì € ìƒíƒœ</h3>
            <table id="user-table">
                <thead><tr><th>ë‹‰ë„¤ì„</th><th>ê³¨ë“œ</th><th>ìƒíƒœ</th></tr></thead>
                <tbody id="user-body"></tbody>
            </table>
        </div>
    </main>

    <script>
        // ê¸°ì¡´ admin (3).html ë° gm (1).htmlì˜ Supabase ë¡œì§ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
        const GAME_URL = "https://utfrjzcnefsbuadnkdud.supabase.co";
        const GAME_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV0ZnJqemNuZWZzYnVhZG5rZHVkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4MjE1MTYsImV4cCI6MjA4MjM5NzUxNn0.D3Za1nMw-x0JwOpkFuYceUHlagcpRdrpFqNUIP5Kjdc";
        const _client = supabase.createClient(GAME_URL, GAME_KEY);

        async function load() {
            // ë°ì´í„° ë¡œë“œ ë° ë Œë”ë§ ë¡œì§ (ìƒëµ - ê¸°ì¡´ ê´€ë¦¬ì ê¸°ëŠ¥ ìœ ì§€)
            console.log("ë°ì´í„° ë¡œë“œ ì¤‘...");
        }

        function switchTab(t) {
            document.querySelectorAll('.section-card').forEach(s => s.style.display = 'none');
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('tab-'+t).style.display = 'block';
            event.target.classList.add('active');
        }

        async function saveAll() {
            alert("ë³€ê²½ì‚¬í•­ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
        }

        load();
    </script>
</body>
</html>
